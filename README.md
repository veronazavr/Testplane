# План автоматизации тестирования формы заявки вклада «Накопилка» от Альфа-Банка

**Цель:** Протестировать отправку заявки на вклад «Накопилка» (начиная с захода на главную страницу).

Страница вклада: https://alfabank.ru/make-money/savings-account/nakopilka/
Начальная страница входа: https://alfabank.ru/

**Внимание!**
> Окрытие вклада «Накопилка» прекращено с 21.07.2020 г. Таким образом, возможность отправки заявки на открытие вклада «Накопилка» в декабре 2020 г. уже является ошибкой.

## 1. Перечень автоматизируемых сценариев
#### Корректные тестовые данные:
1. **Поле "Имя":**
    * Кириллица (Ирина, Ирина Бебенина);
    * Длина значения от 2 до 64 символов;
    * Допустимые спецсимволы: пробел, ё, дефис.

2. **Поле "Телефон":**
    * 10-значный номер телефона, +7 подставляется автоматически. (905-555-88-99).

#### Некорректные тестовые данные:
1. **Поле "Имя":**
    * Присутствуют спецсимволы, кроме допустимых.

2. **Поле "Телефон":**
    * Длина значения не равная 10 знакам.

На более глубокое негативное тестирование на граничные значения и спецсимволы для данной формы нет смысла тратить ресурсы, т.к. цель этой формы принять контактные данные, по которым будет возможно связаться с потенциальным клиентом с получением от него на это разрешения. Для данной формы не нужны жёсткие критерии тестирования как для паспортных данных.

### Позитивный сценарий №1
1. Открываем страницу https://alfabank.ru/;
1. Наводим курсор на вкладку "Вклады";
1. Во всплывающем меню кликаем на название вклада "Накопилка" (откроется страница https://alfabank.ru/make-money/savings-account/nakopilka/);
1. Нажимаем кнопку "Заполнить заявку" (откроется страница https://alfabank.ru/make-money/savings-account/nakopilka/anketa/);
1. Ввести корректное Имя;
1. Ввести корректный Телефон;
1. Выбираем чекбокс Согласие на обработку данных;
1. Нажимаем кнопку "Мы перезвоним";
1. Появляется сообщение "Спасибо, скоро мы вам перезвоним!"

### Позитивный сценарий №2
1. Открываем страницу https://alfabank.ru/;
1. Переходим на страницу "Вклады" https://alfabank.ru/make-money/;
1. Нажимаем кнопку "Архивные счета и депозиты" (откроется страница https://alfabank.ru/make-money/archive/);
1. Нажимаем название вклада "Накопилка" (откроется страница https://alfabank.ru/make-money/savings-account/nakopilka/?platformId=alfasite);
1. Нажимаем кнопку "Заполнить заявку" (откроется страница https://alfabank.ru/make-money/savings-account/nakopilka/anketa/);
1. Ввести корректное Имя;
1. Ввести корректный Телефон;
1. Выбираем чекбокс Согласие на обработку данных;
1. Нажимаем кнопку "Мы перезвоним";
1. Появляется сообщение "Спасибо, скоро мы вам перезвоним!"

### Негативный сценарий №1 (Поля пустые)
1. Открываем страницу https://alfabank.ru/make-money/savings-account/nakopilka/anketa/;
1. Поле "Имя" не заполнено;
1. Поле "Телефон" не заполнено;
1. Чекбокс "Соглашение" не выбран;
1. Нажимаем кнопку "Мы перезвоним" (кнопка не активна).

### Негативный сценарий №2 (Поле Имя не заполнено)
1. Открываем страницу https://alfabank.ru/make-money/savings-account/nakopilka/anketa/;
1. Поле "Имя" не заполнено;
1. Поле "Телефон" заполнено корректно;
1. Чекбокс "Соглашение" выбран;
1. Нажимаем кнопку "Мы перезвоним" (кнопка не активна).

### Негативный сценарий №3 (Поле Имя заполнено некорректно)
1. Открываем страницу https://alfabank.ru/make-money/savings-account/nakopilka/anketa/;
1. Поле "Имя" заполнено не корректно;
1. Поле "Телефон" заполнено корректно;
1. Чекбокс "Соглашение" выбран;
1. Нажимаем кнопку "Мы перезвоним" (кнопка не активна). 

### Негативный сценарий №4 (Поле Телефон не заполнено)
1. Открываем страницу https://alfabank.ru/make-money/savings-account/nakopilka/anketa/;
1. Поле "Имя" заполнено корректно;
1. Поле "Телефон" заполнено не корректно;
1. Чекбокс "Соглашение" выбран;
1. Нажимаем кнопку "Мы перезвоним" (кнопка не активна).

### Негативный сценарий №5 (Поле Телефон 9 символов)
1. Открываем страницу https://alfabank.ru/make-money/savings-account/nakopilka/anketa/;
1. Поле "Имя" заполнено корректно;
1. Поле "Телефон" заполнено 9 цифрами;
1. Чекбокс "Соглашение" выбран;
1. Нажимаем кнопку "Мы перезвоним" (кнопка не активна).

### Негативный сценарий №6 (Поле Телефон 11 символов)
1. Открываем страницу https://alfabank.ru/make-money/savings-account/nakopilka/anketa/;
1. Поле "Имя" заполнено корректно;
1. Поле "Телефон" заполнено 11 цифрами;
1. Чекбокс "Соглашение" выбран;
1. Нажимаем кнопку "Мы перезвоним" (кнопка не активна). 

### Негативный сценарий №7 (Чекбокс Соглашение не выбран)
1. Открываем страницу https://alfabank.ru/make-money/savings-account/nakopilka/anketa/;
1. Поле "Имя" заполнено корректно;
1. Поле "Телефон" заполнено корректно;
1. Чекбокс "Соглашение" не выбран;
1. Нажимаем кнопку "Мы перезвоним" (кнопка не активна).

## 2. Перечень используемых инструментов с обоснованием выбора
1. **Java 11**  
Универсальный язык, позволяющий работать на большинстве ОС и различном оборудовании.
1. **IntelliJ IDE**  
Многофункциональная среда разработки, бесплатная. Хорошая интеграция в GitHub, широкая поддержка расширений и плагинов для тестирования.
1. **Git**  
Система контроля версий. Бсплатность, возможность параллельной разработки, хорошая интеграция с IntelliJ IDEA.
1. **JUnit5**  
Тестовый фреймворк, совместимый с JVM и IntelliJ IDEA, содержит все необходимые аннотации.
1. **Gradle**  
Система сборки проекта. Имеет простой и понятный код, небольшого объема, в сравнению с Maven. Проще подключать внешние зависимости.
1. **Lombok**  
Плагин для создания аннотаций, заменяющих значительное количество однообразных конструкторов JAVA таких как getters, setters и пр.
1. **Selenide**  
Фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver. Подключение веб-драйвера происходит автоматически, простое написание кода тестов.
1. **JavaFaker**  
Плагин для генерации случайных данных для тестов. Болшое количество настроек, бесплатный, достаточная локализация для России.
1. **Appveyor**  
Система CI. Непрерывный контроль интеграции кода. Бесплатный, простое подключение и настройка, удобная интеграция с GitHub.
1. **Allure Report**  
Система подготовки отчётов. Бесплатное решение. Хорошая информативная визуализация отчётов. Позволяет отслеживать данные на протяжении времени

## 3. Перечень необходимых разрешений/данных/доступов от банка
1. Требуется разрешение на тестирование сайта https://alfabank.ru;
2. Разрешение на работу с личными данными не требуется т.к. мы работаем с тестовыми пользователями, сгенерированными через JavaFaker.

## 4. Перечень и описание возможных рисков при автоматизации
1. Изменение актуальности данных на сайте (например, вклад перенесён в архив).
1. Изменение структуры рабочего сайта (правка дизайна с изменением html, css).
1. Короткий срок жизни продукта/вклада, недостаточный для окупаемости затрат на автоматизацию теста в сравнении с ручным тестированием. Для нивелирования этого риска можно ввести стандарт кода для сайта чтобы низкоуровневые однотипные элементы сайта (поля разных форм) для разных продуктов имели одинаковые названия. Сейчас в разных формах сайта одни и те же поля именуются по-разному, что затруднаяет написание типовых автотестов.

## 5. Перечень необходимых специалистов для автоматизации
Потребуется один специалист по автоматизированному тестированию.

## 6. Интервальная оценка с учётом рисков (в часах)
1. Согласование разрешения на тестирование рабочего сайта банка - 16-24 часа (2-3 рабочих дня);
1. Настройка JVM, написание кода автотестов - 6-8 часов;
1. Настройка и подготовка отчётности - 1-2 часа;
1. Запас времени на случай проявления факторов риска - 4 часа.
